var ajax=function(){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=(function(){function e(e){this.value=e}function t(t){var r,n;function o(r,n){try{var a=t[r](n),u=a.value;u instanceof e?Promise.resolve(u.value).then(function(e){o("next",e)},function(e){o("throw",e)}):i(a.done?"return":"normal",a.value)}catch(e){i("throw",e)}}function i(e,t){switch(e){case"return":r.resolve({value:t,done:!0});break;case"throw":r.reject(t);break;default:r.resolve({value:t,done:!1})}(r=r.next)?o(r.key,r.arg):n=null}this._invoke=function(e,t){return new Promise(function(i,a){var u={key:e,arg:t,resolve:i,reject:a,next:null};n?n=n.next=u:(r=n=u,o(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()),r=regeneratorRuntime.mark(n);function n(e){var t,n,o,i,a,u;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:t=!0,n=!1,o=void 0,r.prev=3,i=Object.keys(e)[Symbol.iterator]();case 5:if(t=(a=i.next()).done){r.next=12;break}return u=a.value,r.next=9,[u,e[u]];case 9:t=!0,r.next=5;break;case 12:r.next=18;break;case 14:r.prev=14,r.t0=r.catch(3),n=!0,o=r.t0;case 18:r.prev=18,r.prev=19,!t&&i.return&&i.return();case 21:if(r.prev=21,!n){r.next=24;break}throw o;case 24:return r.finish(21);case 25:return r.finish(18);case 26:case"end":return r.stop()}},r,this,[[3,14,18,26],[19,,21,25]])}return function(r){return new Promise(function(o,i){if(!r.method)return console.error("method is required. ex. method: 'post'");r.headers||(r.headers={"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"}),r.credentials||(r.credentials="same-origin");var a=r.url||BIA.AJAX_URL;if(r.body){var u="object"==e(r.body)?function r(o){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!o||"function"==typeof o)return""!=i?i+"=null":"";var a=[];if(o instanceof Object){var u=!0,c=!1,f=void 0;try{for(var s,l=n(o)[Symbol.iterator]();!(u=(s=l.next()).done);u=!0){var y=s.value,d=t(y,2),v=d[0],h=d[1];"string"!=typeof h&&"object"!=(void 0===h?"undefined":e(h))||a.push(r(h,""!==i?i+"["+v+"]":v))}}catch(e){c=!0,f=e}finally{try{!u&&l.return&&l.return()}finally{if(c)throw f}}return a.join("&")}return"string"==typeof o?i+"="+o:void 0}(r.body):r.body,c=r.method.toLowerCase();"post"===c?"FormData"===r.body.constructor.name?r.headers={}:r.body=u:"get"===c&&(delete r.body,a.includes("?")?a+=a.endsWith("&")||a.endsWith("?")?"":"&":0!==u.indexOf("?")&&(a+="?"),a+=u)}fetch(a,r).then(function(e){var t=e.headers.get("content-type"),r=function(e){return-1!==t.indexOf(e)};e.ok&&t?r("application/json")?o(e.json()):r("text/")?o(e.text()):r("form-data")?o(e.formData()):r("image/")?o(e.blob()):r("audio/")||r("video/")||r("application/ogg")?o(e.arrayBuffer()):o(e):(console.log("ajax response not ok: ",e),i(e))}).catch(function(e){console.log("ajax catch: ",e),i(e)})})}}();
